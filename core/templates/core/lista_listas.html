{% extends 'core/base.html' %}

{% block contenido %}
<div class="container d-flex justify-content-center align-items-start mt-4">
  <div class="card shadow p-4 w-100" style="max-width: 800px;">
    <h2 class="text-center mb-4">Mis listas de reproducción</h2>

    <!-- Botones principales -->
    <div class="d-flex flex-column flex-sm-row justify-content-center gap-3 mb-4">
      <a href="{% url 'crear_lista' %}" class="btn btn-success w-100 w-sm-auto"> Crear nueva lista</a>
      <a href="{% url 'inicio' %}" class="btn btn-secondary w-100 w-sm-auto"> Regresar al inicio</a>
    </div>

    {% if listas %}
      <ul class="list-group">
        {% for lista in listas %}
          <li class="list-group-item">
            <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center">
              <div class="mb-3 mb-md-0">
                <h5 class="mb-1">{{ lista.nombre }}</h5>
                <small class="text-muted">{{ lista.descripcion|default:"Sin descripción" }}</small>
              </div>

              <!-- Botones de acción -->
              <div class="d-flex flex-wrap justify-content-center gap-2 mt-2 mt-md-0">
                <a href="{% url 'editar_lista' lista.pk %}" class="btn btn-warning btn-sm"> Editar</a>
                <a href="{% url 'eliminar_lista' lista.pk %}" class="btn btn-danger btn-sm"> Eliminar</a>
                <a href="{% url 'agregar_canciones' lista.pk %}" class="btn btn-primary btn-sm">Canciones</a>
                <a href="{% url 'detalle_lista' lista.pk %}" class="btn btn-info btn-sm"> Ver</a>
              </div>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-center text-muted">No tienes listas creadas aún.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
